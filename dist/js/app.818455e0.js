(function(t){function e(e){for(var a,i,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,o=1;o<r.length;o++){var c=r[o];0!==n[c]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},n={app:0},s=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},"0668":function(t,e,r){"use strict";r("142a")},"142a":function(t,e,r){},"2bdd":function(t,e,r){t.exports=r.p+"img/artist.015a6392.jpg"},"3a19":function(t,e,r){t.exports=r.p+"img/profile.99e9334d.jpg"},4678:function(t,e,r){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=s(t);return r(e)}function s(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=s,t.exports=n,n.id="4678"},5672:function(t,e,r){t.exports=r.p+"img/dashboard.0d4c3910.jpg"},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("Navbar"),r("v-main",{staticClass:"ma-5"},[t.deferredPrompt?r("v-banner",{staticClass:"text-left",attrs:{color:"info",dark:""},scopedSlots:t._u([{key:"actions",fn:function(){return[r("v-btn",{attrs:{text:""},on:{click:t.dismiss}},[t._v("Dismiss")]),r("v-btn",{attrs:{text:""},on:{click:t.install}},[t._v("Install")])]},proxy:!0}],null,!1,1608450964)},[t._v(" Get our free app. It won't take up space on your phone and also works offline! ")]):t._e(),r("transition",{attrs:{name:"fade",mode:"out-in"}},[r("router-view")],1)],1),r("v-snackbar",{attrs:{bottom:"",right:"",value:t.updateExists,timeout:0,color:"primary"}},[t._v(" An update is available "),r("v-btn",{attrs:{text:""},on:{click:t.refreshApp}},[t._v(" Update ")])],1),r("BottomNavbar")],1)},s=[],i=r("1da1"),o=(r("96cf"),{data:function(){return{refreshing:!1,registration:null,updateExists:!1}},created:function(){var t=this;document.addEventListener("swUpdated",this.updateAvailable,{once:!0}),navigator.serviceWorker.addEventListener("controllerchange",(function(){t.refreshing||(t.refreshing=!0,window.location.reload())}))},methods:{updateAvailable:function(t){this.registration=t.detail,this.updateExists=!0},refreshApp:function(){this.updateExists=!1,this.registration&&this.registration.waiting&&this.registration.waiting.postMessage({type:"SKIP_WAITING"})}}}),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",[r("v-app-bar",{staticClass:"black",attrs:{app:""}},[r("v-app-bar-nav-icon",{staticClass:"d-none d-md-flex",attrs:{dark:""},on:{click:function(e){t.drawer=!t.drawer}}}),r("v-app-bar-title",{staticClass:"text-lowercase white--text"},[r("h3",[r("span",{staticClass:"font-weight-light grey--text"},[t._v("music")]),r("span",{staticClass:"font-weight-dark"},[t._v("habits.")])])])],1),r("v-navigation-drawer",{staticClass:"black .d-none .d-md-flex",attrs:{fixed:"",app:"",dark:"",width:"225px"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-list",{attrs:{rounded:""}},t._l(t.links,(function(e,a){var n=e[0],s=e[1],i=e[2];return r("v-list-item",{key:a,attrs:{to:i,link:""}},[r("v-list-item-icon",[r("v-icon",[t._v(t._s(n))])],1),r("v-list-item-content",[r("v-list-item-title",{staticClass:"font-weight-medium"},[t._v(t._s(s))])],1)],1)})),1)],1)],1)},l=[],u={data:function(){return{drawer:!1,links:[["mdi-account-circle","Profile","/profile"],["mdi-chart-histogram","Dashboard","/dashboard"],["mdi-account","Top Artists","/top-artists"],["mdi-album","Top Tracks","/top-tracks"],["mdi-history","Recent","/recently-played"],["mdi-account-search","Discover Artists","/discover-artists"]],value:1}},methods:{}},d=u,p=r("2877"),m=r("6544"),f=r.n(m),v=r("40dc"),h=r("5bc1"),g=r("bb78"),b=r("132d"),k=r("8860"),j=r("da13"),_=r("5d23"),y=r("34c3"),w=r("f774"),x=Object(p["a"])(d,c,l,!1,null,null,null),C=x.exports;f()(x,{VAppBar:v["a"],VAppBarNavIcon:h["a"],VAppBarTitle:g["a"],VIcon:b["a"],VList:k["a"],VListItem:j["a"],VListItemContent:_["a"],VListItemIcon:y["a"],VListItemTitle:_["c"],VNavigationDrawer:w["a"]});var S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("v-bottom-navigation",{staticClass:"d-md-none black",attrs:{dark:"",app:"",fixed:"",grow:""}},[r("v-btn",{attrs:{to:"/profile",text:""}},[r("span",[t._v("Profile")]),r("v-icon",[t._v("mdi-account-circle")])],1),r("v-btn",{attrs:{to:"/dashboard",text:""}},[r("span",[t._v("Dashboard")]),r("v-icon",[t._v("mdi-chart-histogram")])],1)],1)],1)},V=[],O={data:function(){return{}}},A=O,R=r("b81c"),I=r("8336"),T=r("b0af"),P=Object(p["a"])(A,S,V,!1,null,null,null),E=P.exports;f()(P,{VBottomNavigation:R["a"],VBtn:I["a"],VCard:T["a"],VIcon:b["a"]});var z={name:"App",components:{Navbar:C,BottomNavbar:E},data:function(){return{deferredPrompt:null}},created:function(){var t=this;window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),t.deferredPrompt=e})),window.addEventListener("appinstalled",(function(){t.deferredPrompt=null}))},mixins:[o],methods:{isValidStorage:function(){if(localStorage.expiry&&localStorage.access_token){var t=new Date,e=new Date(localStorage.expiry);e<=t&&(localStorage.removeItem("access_token"),localStorage.removeItem("expiry"),window.location.href="https://yourmusichabit.herokuapp.com/auth/login")}},dismiss:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.deferredPrompt=null;case 1:case"end":return e.stop()}}),e)})))()},install:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.deferredPrompt.prompt();case 1:case"end":return e.stop()}}),e)})))()}},mounted:function(){localStorage.access_token||this.$router.push("/"),this.$nextTick((function(){var t=this;window.setInterval((function(){t.isValidStorage()}),1e3)}))}},L=z,$=(r("034f"),r("7496")),B=r("e4e5"),U=r("f6c4"),N=r("2db4"),D=Object(p["a"])(L,n,s,!1,null,null,null),M=D.exports;f()(D,{VApp:$["a"],VBanner:B["a"],VBtn:I["a"],VMain:U["a"],VSnackbar:N["a"]});var F=r("8c4f"),H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"Home"},[r("v-container",{attrs:{width:"80","justify-center":""}},[t.content?r("div",[r("h2",[t._v("Please Connect with spotify to continue!")]),r("v-btn",{attrs:{color:"green",href:"https://yourmusichabit.herokuapp.com/auth/login"}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-import")]),r("span",[t._v("Spotify")])],1)],1):t._e()])],1)},J=[],q={data:function(){return{content:!1}},methods:{isValid:function(){if(localStorage.expiry&&localStorage.access_token){var t=new Date,e=new Date(localStorage.expiry);e<=t?(localStorage.removeItem("access_token"),localStorage.removeItem("expiry"),window.location.href="https://yourmusichabit.herokuapp.com/auth/login"):this.$router.push("/dashboard")}}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.isValid(),void 0!=t.$route.query.access_token&&null!=t.$route.query.access_token&&(r=t.$route.query.access_token,localStorage.access_token=r,a=new Date,a.setMinutes(a.getMinutes()+59),localStorage.expiry=a,t.$router.push("dashboard")),t.content=!0;case 3:case"end":return e.stop()}}),e)})))()}},Y=q,G=r("a523"),W=Object(p["a"])(Y,H,J,!1,null,null,null),K=W.exports;f()(W,{VBtn:I["a"],VContainer:G["a"],VIcon:b["a"]});var Q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{width:"80","justify-center":""}},[r("Header",{attrs:{header_title:"Your Top Tracks",header_background:"track"}}),r("TermButtons",{on:{"display-top":t.getUserTop}}),r("Preloader",{attrs:{items:t.items}}),r("TrackCards",{attrs:{items:t.items,type:"track"}})],1)},X=[],Z=r("bc3a"),tt=r.n(Z),et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"py-5",attrs:{flat:"",color:"#EAEBEB"}},[r("v-img",{staticClass:"white--text align-end",attrs:{src:t.formatBg(t.header_background),height:"300px"}},[r("v-card-text",[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[r("h1",{staticClass:"text-center display-2 text-lg-h1 text-md-h2"},[t._v(" "+t._s(t.header_title)+" ")])])],1)],1)],1)],1)},rt=[],at={name:"Header",props:{header_title:String,header_background:String},methods:{formatBg:function(t){return t.length<12?r("710a")("./"+t+".jpg"):t}}},nt=at,st=r("99d9"),it=r("62ad"),ot=r("adda"),ct=r("0fd9"),lt=Object(p["a"])(nt,et,rt,!1,null,null,null),ut=lt.exports;f()(lt,{VCard:T["a"],VCardText:st["b"],VCol:it["a"],VImg:ot["a"],VRow:ct["a"]});var dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-center"},[t.items.length<1?r("v-progress-circular",{attrs:{size:80,width:10,color:"Black",indeterminate:""}}):t._e()],1)},pt=[],mt={name:"Preloader",props:{items:Array}},ft=mt,vt=(r("5ad9"),r("490a")),ht=Object(p["a"])(ft,dt,pt,!1,null,"a2505476",null),gt=ht.exports;f()(ht,{VProgressCircular:vt["a"]});var bt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-btn-toggle",{staticClass:"mb-4",attrs:{mandatory:""}},[r("v-tabs",[r("v-tab",{staticClass:"caption black white--text",on:{click:function(e){return t.$emit("display-top","long_term")}}},[t._v("All Time")]),r("v-tab",{staticClass:"caption black white--text",on:{click:function(e){return t.$emit("display-top","medium_term")}}},[t._v("~ 6 Months")]),r("v-tab",{staticClass:"caption black white--text",on:{click:function(e){return t.$emit("display-top","short_term")}}},[t._v("~ 1 Month")])],1)],1)],1)},kt=[],jt={name:"TermButtons"},_t=jt,yt=r("a609"),wt=r("71a3"),xt=r("fe57"),Ct=Object(p["a"])(_t,bt,kt,!1,null,"4df2dc5d",null),St=Ct.exports;f()(Ct,{VBtnToggle:yt["a"],VRow:ct["a"],VTab:wt["a"],VTabs:xt["a"]});var Vt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{attrs:{dense:""}},t._l(t.items,(function(e,a){return r("v-col",{key:a,attrs:{cols:"12"}},[r("v-card",{attrs:{dark:"",href:e.external_urls.spotify,target:"_blank"}},[r("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[r("div",["artist"==t.type?r("v-card-title",[t._v(t._s(a+1)+" - "+t._s(e.name))]):t._e(),"track"==t.type?r("v-card-title",[t._v(t._s(a+1)+" - "+t._s(e.name))]):t._e(),"artist"==t.type?r("v-card-subtitle",[t._v(t._s(e.genres))]):t._e(),"track"==t.type?r("v-card-subtitle",[t._v(t._s(e.artists[0].name))]):t._e(),r("v-card-subtitle",[t._v(" popularity: "+t._s(e.popularity)+"%")])],1),r("v-avatar",{staticClass:"ma-3",attrs:{size:"100",tile:""}},["artist"==t.type?r("v-img",{attrs:{src:e.images[1].url}}):t._e(),"track"==t.type?r("v-img",{attrs:{src:e.album.images[1].url}}):t._e()],1)],1)])],1)})),1)},Ot=[],At={name:"TrackCards",props:{items:Array,type:String}},Rt=At,It=r("8212"),Tt=Object(p["a"])(Rt,Vt,Ot,!1,null,"5c81644b",null),Pt=Tt.exports;f()(Tt,{VAvatar:It["a"],VCard:T["a"],VCardSubtitle:st["a"],VCardTitle:st["c"],VCol:it["a"],VImg:ot["a"],VRow:ct["a"]});var Et={components:{Header:ut,Preloader:gt,TermButtons:St,TrackCards:Pt},data:function(){return{items:[],term:"long_term"}},methods:{getUserTop:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.term=t,a="tracks"+t,n=sessionStorage.getItem(a),!n){r.next=8;break}return r.next=6,e.getUserTopFromLocal(a);case 6:r.next=10;break;case 8:return r.next=10,e.getUserTopFromAPI(a);case 10:case"end":return r.stop()}}),r)})))()},getUserTopFromAPI:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a="https://yourmusichabit.herokuapp.com/api/user/top-tracks?term="+e.term,r.next=3,tt.a.get(a,{headers:{Authorization:"Bearer "+localStorage.access_token,"Access-Control-Allow-Origin":"*"}});case 3:n=r.sent,s=n.data.data,sessionStorage.setItem(t,JSON.stringify(s)),e.items=s.items;case 7:case"end":return r.stop()}}),r)})))()},getUserTopFromLocal:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.items=JSON.parse(sessionStorage.getItem(t)).items;case 1:case"end":return r.stop()}}),r)})))()}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.access_token||t.$router.push("/"),e.next=3,t.getUserTop(t.term);case 3:case"end":return e.stop()}}),e)})))()}},zt=Et,Lt=Object(p["a"])(zt,Q,X,!1,null,null,null),$t=Lt.exports;f()(Lt,{VContainer:G["a"]});var Bt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{width:"80","justify-center":""}},[r("Header",{attrs:{header_title:"Your Top Artists",header_background:"artist"}}),r("TermButtons",{on:{"display-top":t.getUserTop}}),r("Preloader",{attrs:{items:t.items}}),r("TrackCards",{attrs:{items:t.items,type:"artist"}})],1)},Ut=[],Nt={components:{Header:ut,Preloader:gt,TermButtons:St,TrackCards:Pt},data:function(){return{items:[],term:"long_term"}},methods:{getUserTop:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.term=t,a="artists"+t,n=sessionStorage.getItem(a),!n){r.next=8;break}return r.next=6,e.getUserTopFromLocal(a);case 6:r.next=10;break;case 8:return r.next=10,e.getUserTopFromAPI(a);case 10:case"end":return r.stop()}}),r)})))()},getUserTopFromAPI:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a="https://yourmusichabit.herokuapp.com/api/user/top-artists?term="+e.term,r.next=3,tt.a.get(a,{headers:{Authorization:"Bearer "+localStorage.access_token,"Access-Control-Allow-Origin":"*"}});case 3:n=r.sent,s=n.data.data,sessionStorage.setItem(t,JSON.stringify(s)),e.items=s.items;case 7:case"end":return r.stop()}}),r)})))()},getUserTopFromLocal:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.items=JSON.parse(sessionStorage.getItem(t)).items;case 1:case"end":return r.stop()}}),r)})))()}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.access_token||t.$router.push("/"),e.next=3,t.getUserTop(t.term);case 3:case"end":return e.stop()}}),e)})))()}},Dt=Nt,Mt=Object(p["a"])(Dt,Bt,Ut,!1,null,null,null),Ft=Mt.exports;f()(Mt,{VContainer:G["a"]});var Ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{width:"80","justify-center":""}},[r("Header",{attrs:{header_title:"Your Recents",header_background:"recent"}}),r("Preloader",{attrs:{items:t.items}}),r("v-row",{attrs:{dense:""}},t._l(t.items,(function(e,a){return r("v-col",{key:a,attrs:{cols:"12"}},[r("v-card",{attrs:{dark:"",href:e.track.external_urls.spotify,target:"_blank"}},[r("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[r("div",[r("v-card-title",[t._v(t._s(e.track.name))]),r("v-card-subtitle",[t._v(t._s(e.track.album.artists[0].name))]),r("v-card-subtitle",[t._v(t._s(t.format(e.played_at)))])],1),r("v-avatar",{staticClass:"ma-3",attrs:{size:"100",tile:""}},[r("v-img",{attrs:{src:e.track.album.images[1].url}})],1)],1)])],1)})),1)],1)},Jt=[],qt=r("c1df"),Yt=r.n(qt),Gt={components:{Header:ut,Preloader:gt},data:function(){return{items:[]}},methods:{format:function(t){if(t)return Yt()(String(t)).format("MM/DD hh:mm A")},getRecentlyPlayed:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!sessionStorage.recents){e.next=5;break}return e.next=3,t.getRecentlyPlayedFromLocal();case 3:e.next=7;break;case 5:return e.next=7,t.getRecentlyPlayedFromAPI();case 7:case"end":return e.stop()}}),e)})))()},getRecentlyPlayedFromAPI:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="https://yourmusichabit.herokuapp.com/api/user/recently-played",e.next=3,tt.a.get(r,{headers:{Authorization:"Bearer "+localStorage.access_token,"Access-Control-Allow-Origin":"*"}});case 3:a=e.sent,n=a.data.data,sessionStorage.setItem("recents",JSON.stringify(n)),t.items=n.items;case 7:case"end":return e.stop()}}),e)})))()},getRecentlyPlayedFromLocal:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.items=JSON.parse(sessionStorage.getItem("recents")).items;case 1:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.access_token||t.$router.push("/"),e.next=3,t.getRecentlyPlayed();case 3:case"end":return e.stop()}}),e)})))()}},Wt=Gt,Kt=Object(p["a"])(Wt,Ht,Jt,!1,null,null,null),Qt=Kt.exports;f()(Kt,{VAvatar:It["a"],VCard:T["a"],VCardSubtitle:st["a"],VCardTitle:st["c"],VCol:it["a"],VContainer:G["a"],VImg:ot["a"],VRow:ct["a"]});var Xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{width:"80","justify-center":""}},[r("Header",{attrs:{header_title:"Dashboard",header_background:"dashboard"}}),r("Miniboard",{attrs:{title:"Your Top Artists",background:"artist",route:"/top-artists"}}),r("Miniboard",{attrs:{title:"Your Top Tracks",background:"track",route:"/top-tracks"}}),r("Miniboard",{attrs:{title:"Your Recents",background:"recent",route:"/recently-played"}}),r("Miniboard",{attrs:{title:"Discover Artists",background:"discover",route:"/discover-artists"}})],1)},Zt=[],te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"py-2",attrs:{flat:"","justify-space-around":"",color:"#EAEBEB",to:t.route,link:"",disabled:!!t.disable}},[a("v-img",{staticClass:"white--text align-end",attrs:{src:r("710a")("./"+t.background+".jpg"),height:"120px"}},[a("v-card-text",[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"mb-3",attrs:{cols:"12"}},[a("h1",{staticClass:"text-center display-1 text-lg-h3 text-sm-h4"},[t._v(" "+t._s(t.title)+" ")])])],1)],1)],1)],1)},ee=[],re={name:"Miniboard",props:{title:String,background:String,route:String,disable:Boolean}},ae=re,ne=Object(p["a"])(ae,te,ee,!1,null,null,null),se=ne.exports;f()(ne,{VCard:T["a"],VCardText:st["b"],VCol:it["a"],VImg:ot["a"],VRow:ct["a"]});var ie={components:{Header:ut,Miniboard:se},data:function(){return{}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:localStorage.access_token||t.$router.push("/");case 1:case"end":return e.stop()}}),e)})))()}},oe=ie,ce=Object(p["a"])(oe,Xt,Zt,!1,null,null,null),le=ce.exports;f()(ce,{VContainer:G["a"]});var ue=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{width:"80","justify-center":""}},[r("Header",{attrs:{header_title:t.profile.display_name,header_background:"profile"}}),r("h3",[t._v("Name : "+t._s(t.profile.display_name))]),r("h3",[t._v("Email : "+t._s(t.profile.email))]),r("h3",[t._v("Account Type : "+t._s(t.profile.product))])],1)},de=[],pe={components:{Header:ut},data:function(){return{profile:""}},methods:{getUser:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!localStorage.profile){e.next=5;break}return e.next=3,t.getUserFromLocal();case 3:e.next=7;break;case 5:return e.next=7,t.getUserFromAPI();case 7:case"end":return e.stop()}}),e)})))()},getUserFromAPI:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="https://yourmusichabit.herokuapp.com/api/user",e.next=3,tt.a.get(r,{headers:{Authorization:"Bearer "+localStorage.access_token,"Access-Control-Allow-Origin":"*"}});case 3:a=e.sent,n=a.data.data,t.profile=n,localStorage.setItem("profile",JSON.stringify(n));case 7:case"end":return e.stop()}}),e)})))()},getUserFromLocal:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.profile=JSON.parse(localStorage.getItem("profile"));case 1:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return localStorage.access_token||t.$router.push("/"),e.next=3,t.getUser(t.term);case 3:case"end":return e.stop()}}),e)})))()}},me=pe,fe=Object(p["a"])(me,ue,de,!1,null,null,null),ve=fe.exports;f()(fe,{VContainer:G["a"]});var he=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{width:"80","justify-center":""}},[r("Header",{attrs:{header_title:"Discover Artists",header_background:"discover"}}),r("v-autocomplete",{attrs:{dark:"","search-input":t.search,items:t.items,loading:t.isLoading,chips:"",clearable:"","hide-details":"","hide-selected":"","item-text":"name","item-value":"id",label:t.query_label,"return-object":"",solo:"",rounded:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e},input:t.onInput},scopedSlots:t._u([{key:"no-data",fn:function(){return[r("v-list-item",[r("v-list-item-title",[t._v(" Find Similar Artists ")])],1)]},proxy:!0},{key:"selection",fn:function(e){var a=e.attr,n=e.on,s=e.item,i=e.selected;return[r("v-chip",t._g(t._b({staticClass:"white--text",attrs:{"input-value":i,color:"blue-grey"}},"v-chip",a,!1),n),[r("v-avatar",{attrs:{left:""}},["track"==t.type?r("v-img",{attrs:{src:s.album.images[0].url}}):s.images.length>1?r("v-img",{attrs:{src:s.images[0].url}}):t._e()],1),r("span",{domProps:{textContent:t._s(s.name)}})],1)]}},{key:"item",fn:function(e){var a=e.item;return[void 0!=a&&null!=a?r("v-list-item-avatar",["track"==t.type?r("v-img",{attrs:{src:a.album.images[0].url}}):a.images.length>1?r("v-img",{attrs:{src:a.images[0].url}}):t._e()],1):t._e(),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(a.name)}}),"track"==t.type?r("v-list-item-subtitle",{domProps:{textContent:t._s(a.artists[0].name)}}):t._e()],1),r("v-list-item-action",[r("v-icon",[t._v(t._s(t.icon))])],1)]}}])}),null!=t.selected?r("v-card",{staticClass:"mt-5",attrs:{dark:""}},[r("h3",{staticClass:"text-center grey"},[t._v("Artists similar to")]),r("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[r("div",[r("v-card-title",[t._v(" "+t._s(t.selected.name)+" "),r("a",{attrs:{href:t.selected.external_urls.spotify,target:"_blank"}},[r("img",{staticClass:"ml-2",attrs:{height:"24",src:"https://img.icons8.com/fluent/48/000000/spotify.png"}})])]),r("v-flex",{staticClass:"d-flex flex-wrap ma-2"},[r("v-btn",{attrs:{outlined:"",small:""},on:{click:function(e){return t.playPreview(t.selected.id)}}},[t._v("Preview")])],1)],1),r("v-avatar",{staticClass:"ma-3",attrs:{size:"100",tile:""}},[r("v-img",{attrs:{src:t.selected.images[1].url}})],1)],1)]):t._e(),r("v-divider",{staticClass:"ma-3"}),null!=t.selected?r("div",{staticClass:"text-center",on:{click:t.shuffle}},[r("v-btn",{staticClass:"green ma-2"},[t._v(" Random "),r("v-icon",[t._v(" mdi-shuffle ")])],1)],1):t._e(),r("div",{staticClass:"text-center"},[null!=t.preview?r("v-btn",{staticClass:"error ma-2",on:{click:t.stopAudio}},[t._v(" Stop "),r("v-icon",[t._v(" mdi-stop ")])],1):t._e(),0==t.player&&null!=t.track?r("v-btn",{staticClass:"warning ma-2",on:{click:function(e){t.player=!t.player}}},[t._v(" Play "),r("v-icon",[t._v(" mdi-play ")])],1):t._e()],1),null!=t.track?r("div",{staticClass:"text-center"},[r("v-bottom-sheet",{attrs:{dark:"",inset:""},model:{value:t.player,callback:function(e){t.player=e},expression:"player"}},[r("v-card",{attrs:{tile:""}},[r("v-progress-linear",{staticClass:"my-0",attrs:{value:20,height:"3"}}),r("v-list",[r("v-list-item",[r("v-list-item-avatar",{attrs:{tile:""}},[r("img",{attrs:{src:t.track.album.images[0].url}})]),r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(t.track.artists[0].name))]),r("v-list-item-subtitle",[t._v(t._s(t.track.name))])],1),r("v-spacer"),r("v-list-item-icon",{class:{"mx-5":t.$vuetify.breakpoint.mdAndUp}},[r("v-btn",{attrs:{icon:""},on:{click:t.stopAudio}},[r("v-icon",[t._v("mdi-stop")])],1),r("v-btn",{attrs:{icon:""},on:{click:t.togglePlayState}},[r("v-icon",[t._v(t._s(t.playback_icon))])],1),r("v-btn",{attrs:{icon:""}},[r("v-icon",{attrs:{color:t.color},on:{click:t.toggleLike}},[t._v("mdi-heart")])],1)],1),r("v-list-item-icon",{staticClass:"ml-0",class:{"mr-3":t.$vuetify.breakpoint.mdAndUp}})],1)],1)],1)],1)],1):t._e(),r("v-row",{attrs:{dense:""}},t._l(t.related_artists,(function(e){return r("v-col",{key:e.id,attrs:{cols:"12"}},[r("v-card",{attrs:{dark:""}},[r("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[r("div",[r("v-card-title",[t._v(" "+t._s(e.name)+" "),r("a",{attrs:{href:e.external_urls.spotify,target:"_blank"}},[r("img",{staticClass:"ml-2",attrs:{height:"24",src:"https://img.icons8.com/fluent/48/000000/spotify.png"}})])]),r("v-flex",{staticClass:"d-flex flex-wrap"},[r("v-btn",{staticClass:"ma-2",attrs:{outlined:"",small:""},on:{click:function(r){return t.playPreview(e.id)}}},[t._v("Preview")]),r("v-btn",{staticClass:"ma-2",attrs:{outlined:"",small:""},on:{click:function(r){return t.displaySimilar(e)}}},[t._v("Find Similar")])],1)],1),r("v-avatar",{staticClass:"ma-3",attrs:{size:"100",tile:""}},[r("v-img",{attrs:{src:e.images[1].url}})],1)],1)])],1)})),1)],1)},ge=[],be=(r("841c"),r("ac1f"),r("d3b7"),r("99af"),r("159b"),r("2ef0")),ke=r.n(be),je={components:{Header:ut},data:function(){return{items:[],related_artists:[],query_label:"Search Artist",type:"artist",search:null,icon:"mdi-account",isLoading:!1,model:null,tab:null,selected:null,preview:null,track:null,player:!1,playback_icon:"mdi-pause",color:null}},watch:{search:function(){this.doSearch()},model:function(t){this.tab=null!=t?0:null}},methods:{displaySimilar:function(t){this.selected=t,this.getSimilarArtists()},onInput:function(t){this.selected=t,this.getSimilarArtists()},doSearch:ke.a.debounce((function(){var t=this;if(null!=this.search&&0!=this.search.length){this.isLoading=!0;var e="https://api.spotify.com/v1/search?q="+this.search+"&type="+this.type;if(localStorage.profile){var r=JSON.parse(localStorage.getItem("profile"));e="https://api.spotify.com/v1/search?q="+this.search+"&type="+this.type+"&market="+r.country}tt.a.get(e,{headers:{Authorization:"Bearer "+localStorage.access_token}}).then((function(e){e.data.error||!e.data?t.items=[]:e.data&&(t.items=e.data[t.type+"s"].items)})).catch((function(t){return console.log(t)})).finally((function(){return t.isLoading=!1}))}}),200),playPreview:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i,o,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a="https://api.spotify.com/v1/artists/".concat(t,"/top-tracks?market=US"),localStorage.profile&&(n=JSON.parse(localStorage.getItem("profile")),a="https://api.spotify.com/v1/artists/".concat(t,"/top-tracks?market=").concat(n.country)),r.next=4,tt.a.get(a,{headers:{Authorization:"Bearer "+localStorage.access_token}});case 4:s=r.sent,i=[],s.data.tracks.forEach((function(t){null!=t.preview_url&&i.push(t)})),null!=e.preview&&e.stopAudio(),o=i.length,c=e.getRandomInt(o-1),i.length>1&&(e.track=i[c],console.log(e.track),e.preview=new Audio(e.track.preview_url)),e.playAudio();case 12:case"end":return r.stop()}}),r)})))()},shuffle:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.related_artists.length,a=t.getRandomInt(r-1),n=t.related_artists[a].id,e.next=5,t.playPreview(n);case 5:case"end":return e.stop()}}),e)})))()},playAudio:function(){this.player=!this.player,this.playback_icon="mdi-pause",this.preview.play()},togglePlayState:function(){"mdi-pause"==this.playback_icon?(this.preview.pause(),this.playback_icon="mdi-play"):(this.preview.play(),this.playback_icon="mdi-pause")},toggleLike:function(){this.color?this.color=null:this.color="error"},stopAudio:function(){this.preview.pause(),this.preview=null,this.track=null},getSimilarArtists:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="https://api.spotify.com/v1/artists/".concat(t.selected.id,"/related-artists"),e.next=3,tt.a.get(r,{headers:{Authorization:"Bearer "+localStorage.access_token}});case 3:a=e.sent,t.related_artists=a.data.artists;case 5:case"end":return e.stop()}}),e)})))()},getRandomInt:function(t){return Math.floor(Math.random()*Math.floor(t))}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:localStorage.access_token||t.$router.push("/");case 1:case"end":return e.stop()}}),e)})))()}},_e=je,ye=(r("0668"),r("c6a6")),we=r("288c"),xe=r("cc20"),Ce=r("ce7e"),Se=r("0e8f"),Ve=r("1800"),Oe=r("8270"),Ae=r("8e36"),Re=r("2fa4"),Ie=Object(p["a"])(_e,he,ge,!1,null,"7fedb316",null),Te=Ie.exports;f()(Ie,{VAutocomplete:ye["a"],VAvatar:It["a"],VBottomSheet:we["a"],VBtn:I["a"],VCard:T["a"],VCardTitle:st["c"],VChip:xe["a"],VCol:it["a"],VContainer:G["a"],VDivider:Ce["a"],VFlex:Se["a"],VIcon:b["a"],VImg:ot["a"],VList:k["a"],VListItem:j["a"],VListItemAction:Ve["a"],VListItemAvatar:Oe["a"],VListItemContent:_["a"],VListItemIcon:y["a"],VListItemSubtitle:_["b"],VListItemTitle:_["c"],VProgressLinear:Ae["a"],VRow:ct["a"],VSpacer:Re["a"]}),a["a"].use(F["a"]);var Pe=[{path:"/",name:"Login",component:K},{path:"/top-tracks",name:"Top Tracks",component:$t},{path:"/top-artists",name:"Top Artists",component:Ft},{path:"/recently-played",name:"Recent",component:Qt},{path:"/dashboard",name:"Dashboard",component:le},{path:"/profile",name:"Profile",component:ve},{path:"/discover-artists",name:"DiscoverArtists",component:Te}],Ee=new F["a"]({mode:"history",base:"/",routes:Pe}),ze=Ee,Le=r("f309");a["a"].use(Le["a"]);var $e=new Le["a"]({icons:{iconfont:"mdi"},theme:{themes:{light:{primary:"#9652ff",success:"#3cd1c2",info:"#ffaa2c",error:"#f83e70"}}}}),Be=r("9483");Object(Be["a"])("".concat("/","service-worker.js"),{updated:function(t){console.log("New content is available; please refresh."),document.dispatchEvent(new CustomEvent("swUpdated",{detail:t}))}}),a["a"].config.productionTip=!1,new a["a"]({router:ze,vuetify:$e,render:function(t){return t(M)}}).$mount("#app")},"5ad9":function(t,e,r){"use strict";r("6728")},"5f8d":function(t,e,r){t.exports=r.p+"img/track.977f0dcc.jpg"},6728:function(t,e,r){},"710a":function(t,e,r){var a={"./artist.jpg":"2bdd","./dashboard.jpg":"5672","./discover.jpg":"ce43","./profile.jpg":"3a19","./recent.jpg":"d9f6","./track.jpg":"5f8d"};function n(t){var e=s(t);return r(e)}function s(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=s,t.exports=n,n.id="710a"},"85ec":function(t,e,r){},ce43:function(t,e,r){t.exports=r.p+"img/discover.2276b547.jpg"},d9f6:function(t,e,r){t.exports=r.p+"img/recent.7bdfe7e0.jpg"}});
//# sourceMappingURL=app.818455e0.js.map